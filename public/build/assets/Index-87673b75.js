import{T as S,d as $,Q as N,o as n,c as x,w as i,a as s,b as a,g as r,i as v,l as h,p as U,u as t,e as d,h as y,F as b,s as B,n as C,t as c,j as P}from"./app-d94cb34d.js";import{_ as q}from"./AppLayout-d06060ff.js";import{_ as f,a as m}from"./TextInput-0d7d6fea.js";import{_ as u}from"./InputLabel-5b180604.js";import{_ as w}from"./PrimaryButton-cfb7273b.js";import{_ as D}from"./ActionMessage-ba61e2bf.js";import{_ as F}from"./FormSection-c98d290b.js";import{S as M}from"./SectionBorder-8181631b.js";import{_ as T}from"./TextArea-51012ed0.js";import"./ResponsiveNavLink-ea322290.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-5abd66e5.js";const I={class:"flex"},L=s("div",{class:"flex-none"},[s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Meus Produtos ")],-1),j={class:"flex-auto text-end"},z={class:"max-w-7xl mx-auto py-4 sm:px-6 lg:px-8"},A={class:"col-span-6 sm:col-span-4"},E={class:"col-span-6 sm:col-span-4"},O={class:"col-span-6 sm:col-span-4"},Q={class:"col-span-6 sm:col-span-4"},R=["value"],G={class:"col-span-6 sm:col-span-4"},H=s("p",{style:{color:"#009606"}},"Salvado com sucesso.",-1),J={key:0,class:"py-3"},K={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},X={class:"flex min-w-0 gap-x-4"},Y=["src"],Z={class:"min-w-0 flex-auto"},ee={class:"text-sm font-semibold leading-6 text-gray-900"},se={class:"center relative inline-block select-none whitespace-nowrap rounded-lg bg-gray-200 py-1 px-2 align-baseline font-sans text-xs font-bold uppercase leading-none text-base"},oe={class:"mt-px"},te={class:"mt-1 truncate text-xs leading-5 text-gray-500"},ae={class:"flex-auto w-32 text-end"},le={key:1,class:"py-3"},ie=s("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},[s("div",{class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6 text-center"},[s("p",{class:"m-10 text-2xl"},"Você não possui nenhum produto cadastrado!")])],-1),ne=[ie],ye={__name:"Index",props:{products:{type:Array,required:!0}},setup(g){const e=S({name:"",description:"",price:null,category_id:null,image_url:""}),V=()=>{e.transform(_=>({..._})).post(route("products:store"),{onFinish:()=>{e.recentlySuccessful&&(e.name="",e.description="",e.price="",e.category_id="",e.image_url="",setTimeout(()=>p.value=!1,1500))}})},p=$(!1),k=N().props.auth.user.categories;return(_,l)=>(n(),x(q,{title:"Produtos"},{header:i(()=>[s("div",I,[L,s("div",j,[a(w,{type:"button",onClick:l[0]||(l[0]=v(o=>{p.value=!p.value,t(e).name=null},["prevent"]))},{default:i(()=>[r(" Novo Produto ")]),_:1})])])]),default:i(()=>[h(s("div",null,[s("div",z,[a(F,{onSubmit:v(V,["prevent"])},{title:i(()=>[r(" Novo Produto ")]),description:i(()=>[r(" Cadastre um novo produto com todas informações solicitadas. ")]),form:i(()=>[s("div",A,[a(u,{for:"name",value:"Nome"}),a(f,{id:"name",modelValue:t(e).name,"onUpdate:modelValue":l[1]||(l[1]=o=>t(e).name=o),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),a(m,{message:t(e).errors.name,class:"mt-2"},null,8,["message"])]),s("div",E,[a(u,{for:"name",value:"Descricao (min: 15 caracteres)"}),a(T,{id:"description",modelValue:t(e).description,"onUpdate:modelValue":l[2]||(l[2]=o=>t(e).description=o),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),a(m,{message:t(e).errors.description,class:"mt-2"},null,8,["message"])]),s("div",O,[a(u,{for:"name",value:"Preço"}),a(f,{id:"price",type:"number",modelValue:t(e).price,"onUpdate:modelValue":l[3]||(l[3]=o=>t(e).price=o),class:"mt-1 block w-1/2",required:""},null,8,["modelValue"]),a(m,{message:t(e).errors.price,class:"mt-2"},null,8,["message"])]),s("div",Q,[a(u,{for:"name",value:"Categoria"}),h(s("select",{"onUpdate:modelValue":l[4]||(l[4]=o=>t(e).category_id=o),name:"select",id:"category",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[(n(!0),d(b,null,y(t(k),o=>(n(),d("option",{key:o.id,value:o.id},c(o.name),9,R))),128))],512),[[B,t(e).category_id]]),a(m,{message:t(e).errors.category_id,class:"mt-2"},null,8,["message"])]),s("div",G,[a(u,{for:"name",value:"URL da Imagem (opcional)"}),a(f,{id:"image_url",modelValue:t(e).image_url,"onUpdate:modelValue":l[5]||(l[5]=o=>t(e).image_url=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),a(m,{message:t(e).errors.image_url,class:"mt-2"},null,8,["message"])])]),actions:i(()=>[a(D,{on:t(e).recentlySuccessful,class:"me-3"},{default:i(()=>[H]),_:1},8,["on"]),a(w,{class:C({"opacity-25":t(e).processing}),disabled:t(e).processing},{default:i(()=>[r(" Salvar ")]),_:1},8,["class","disabled"])]),_:1},8,["onSubmit"])]),a(M)],512),[[U,p.value]]),g.products.length>0?(n(),d("div",J,[s("div",K,[s("div",W,[(n(!0),d(b,null,y(g.products,o=>(n(),x(t(P),{key:o.id,href:_.route("products:show",o.id),class:"flex border-b pb-5 pt-5"},{default:i(()=>[s("div",X,[s("img",{class:"h-12 w-12 flex-none rounded-full bg-gray-50",src:o.image_url,alt:""},null,8,Y),s("div",Z,[s("div",ee,[r(c(o.name)+" ",1),s("div",se,[s("div",oe,c(o.category),1)])]),s("p",te,c(o.description),1)])]),s("div",ae,c(o.price_br),1)]),_:2},1032,["href"]))),128))])])])):(n(),d("div",le,ne))]),_:1}))}};export{ye as default};
